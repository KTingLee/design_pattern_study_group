[CK Patt #2] 策略模式
===

想喝調酒但調酒種類太多一位調酒師學不完怎麼辦？

前言
---

前一章的簡單工廠模式讓我們能夠很輕鬆的買到想要的飲料，不用親自了解飲料如何製作，然而不滿足的你買到飲料之後又覺得一般的紅茶綠茶太無聊，想要喝到以紅茶綠茶為底的調酒，卻不知道如何調酒，於是你想到去酒吧，但不幸的是這裡的酒吧每一位調酒師都只會以一種飲料為底調酒，想喝到某種特定飲料的調酒得先找到該位調酒師才行，有夠麻煩，就沒有辦法**請一位調酒師根據你的飲料不同做出不同類型的調酒嗎**？

策略模式的目的就是在解決這種狀況，當我們的類別中的某個方法可能有多種實作時，我們可能有以下幾種選擇

1. 只建立一個類別，並在方法內根據情況判斷該用什麼演算法 (switch-case or if-then-else)
2. 將類別抽象化，並根據不同實作定義不同的子類別
3. 使用策略模式，僅將演算法抽象化，並在建立實體或呼叫方法時將所需的演算法傳入

以剛才的情境來說，顯然酒吧選擇了第二種實作方式，這種方法的擴充性低，當你想加入新的飲料基底時就需要聘請新的調酒師來專門製作以新的飲料為基底的調酒。第一種方法看似方便，但仍然有擴充性不好的問題，當你想加入新的飲料時，該位調酒師就得重新學習如何製作新的飲料。

而策略模式有點像是能夠看著配方製作調酒的調酒師，只要你能夠給出配方，他就能提供對應服務。

> **策略模式(Strategy):** 他定義了演算法家族，分別封裝起來，讓他們之間可以互相替換，此模式讓演算法的變化，不會影響到使用演算法的客戶。

程式解說
---
### UML
![](https://i.imgur.com/Mjz4HbO.png)

### 程式碼(可於LeetCode線上編譯器做測試)

[Strategy.cs](Strategy.cs)

我們也可以進一步將簡單工廠模式跟策略模式結合，讓使用者透過更簡單的介面來實體化需要的類別。

[StrategyFactory.cs](StrategyFactory.cs)

作業
---
(續上篇) CK選擇了武器，也想起中國武功博大精深，但其實他更喜歡西方的近身數，想起國中與弟弟每天看WWE的回憶，決定要保有這純真的美好，打開電腦看了Randy Orton和John Cena(摔角選手)的對決，開始冥想進入他們的狀態，準備學習並實踐他們的絕招（RKO & AA），以對付外星人？